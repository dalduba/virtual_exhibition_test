b4w.register("UV66 VIRTUAL EXHIBITION_main",function(p,b){function q(a,b){b?(g.create_preloader(),a.oncontextmenu=function(a){a.preventDefault();a.stopPropagation();return!1},r.load(t+"brick_floor.json",u,v)):console.log("b4w init failure")}function v(a){g.update_preloader(a)}function u(a,b){if(b){var d=m.get_active_camera(),c=m.get_first_character();console.log(d);var n=w.get_canvas();n.addEventListener("mouseup",function(a){x.request_pointerlock(n)},!1);f.enable_fps_controls();f.set_cam_smooth_factor(.2);
f.set_cam_sensitivity(80);y.append_stiff_trans(d,c,[0,.7,0]);z()}else console.log("b4w load failure")}function z(){var b=a.create_keyboard_sensor(a.KEY_A),c=a.create_keyboard_sensor(a.KEY_S),d=a.create_keyboard_sensor(a.KEY_D),f=a.create_keyboard_sensor(a.KEY_W),g=a.create_keyboard_sensor(a.KEY_SPACE),l=a.create_keyboard_sensor(a.KEY_SHIFT),h=0,k=0,b=[f,c,b,d,l],c=m.get_first_character(),d=function(a,b,c){if(1==c)switch(b){case "FORWARD":k=1;break;case "BACKWARD":k=-1;break;case "LEFT":h=1;break;
case "RIGHT":h=-1;break;case "RUNNING":e.set_character_move_type(a,e.CM_RUN)}else switch(b){case "FORWARD":case "BACKWARD":k=0;break;case "LEFT":case "RIGHT":h=0;break;case "RUNNING":e.set_character_move_type(a,e.CM_WALK)}e.set_character_move_dir(a,k,h)};a.create_sensor_manifold(c,"FORWARD",a.CT_TRIGGER,b,function(a){return a[0]},d);a.create_sensor_manifold(c,"BACKWARD",a.CT_TRIGGER,b,function(a){return a[1]},d);a.create_sensor_manifold(c,"LEFT",a.CT_TRIGGER,b,function(a){return a[2]},d);a.create_sensor_manifold(c,
"RIGHT",a.CT_TRIGGER,b,function(a){return a[3]},d);a.create_sensor_manifold(c,"RUNNING",a.CT_TRIGGER,b,function(a){return(a[0]||a[1]||a[2]||a[3])&&a[4]},d);a.create_sensor_manifold(c,"JUMP",a.CT_SHOT,[g],null,function(a,b,c){e.character_jump(a)})}var A=b("app"),B=b("config"),r=b("data"),g=b("preloader"),C=b("version"),f=b("fps"),m=b("scenes"),y=b("constraints"),a=b("controls"),e=b("physics"),w=b("container"),x=b("mouse"),l="DEBUG"==C.type(),t=B.get_assets_path("UV66_VIRTUAL_EXHIBITION");p.init=function(){A.init({canvas_container_id:"main_canvas_container",
callback:q,show_fps:l,console_verbose:l,physics_enabled:!0,show_fps:!0,autoresize:!0})}});b4w.require("UV66 VIRTUAL EXHIBITION_main").init();
